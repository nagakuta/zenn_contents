---
title: "Flutter x Atomic Design ã§ç™ºç”Ÿã™ã‚‹æ‚©ã¿ã‚’ã‚ºãƒãƒƒã¨è§£æ±ºã—ãŸãŠè©±"
emoji: "ğŸ“¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Flutter", "iOS", "Android", "AtomicDesign"]
published: true
published_at: 2023-02-15 09:00
---

## ã¯ã˜ã‚ã«
Flutter ã¯å®£è¨€çš„ UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ¡ç”¨ã—ã¦ãŠã‚Šã€éšå±¤çš„ã« UI ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã¨ãªã£ã¦ã„ã¾ã™ã€‚

Flutter ã‚’å§‹ã‚ã¨ã—ã¦ SwiftUI ã‚„ React Native ãªã©ã®å°é ­ã«ã‚ˆã‚Šã€è¿‘å¹´ã§ã¯å®£è¨€çš„ UI ã§ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªé–‹ç™ºãŒãƒˆãƒ¬ãƒ³ãƒ‰ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ãã®åŸå‹ã¨è¨€ãˆã‚‹ã‚‚ã®ã¯ HTML ã®è¨€èªä»•æ§˜ã¨ã—ã¦ Web ãƒ•ãƒ­ãƒ³ãƒˆé–‹ç™ºã§ã¯æ—¢ã«å®šç€ã—ã¦ã„ã¾ã—ãŸã€‚

ãã® Web ãƒ•ãƒ­ãƒ³ãƒˆé–‹ç™ºã«ãŠã„ã¦æ³¨ç›®ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ‰‹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ãã‚ŒãŒ Atomic Design ã§ã™ã€‚

ã—ã‹ã—ã€Atomic Design ã‚’å°å…¥ã—ãŸéš›ã«ç™ºç”Ÿã—ã‚„ã™ã„å•é¡Œã¨ã—ã¦ã€å®Ÿè£…è€…ã®ã€ŒAtomic Design ã®ç†å¿µã¨åŸºæœ¬æ€§è³ªã€ã¸ã®ç†è§£åº¦ã‚„ç¿’ç†Ÿåº¦ã«ã‚ˆã£ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç²’åº¦ã®ãƒãƒ©ã¤ããŒç™ºç”Ÿã—ã‚„ã™ã„ã“ã¨ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚

ä¸Šè¨˜ã®å•é¡Œã«å¯¾ã™ã‚‹è§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ã€ã“ã®è¨˜äº‹ã§ã¯ Flutter ã§ã® Atomic Design ã‚’æ¡ç”¨ã—ãŸ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ã‚’è£œåŠ©ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ç´¹ä»‹ã—ã€ã€Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç²’åº¦ã®çµ±ä¸€ã€ã‚„ã€Œå„ç²’åº¦ãŒæœãŸã™è²¬å‹™ã‚’æ„è­˜ã—ã‚„ã™ããªã‚‹ã€ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

:::message
ã“ã®è¨˜äº‹ã¯ã€ç­†è€…ãŒä»¥å‰å…¬é–‹ã—ãŸã€Œ[Flutter x Atomic Design ã§å …ç‰¢ãªãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿç¾ã—ã‚ˆã†](https://zenn.dev/nagakuta/articles/25c8aaf7744830bdab3d)ã€ã®å†…å®¹ã‚’ç†è§£ã—ã¦ã„ã‚‹å‰æã§é€²è¡Œã™ã‚‹ç®‡æ‰€ãŒã‚ã‚Šã¾ã™ã€‚
:::

## ç›®æ¬¡
```
- ãŠã•ã‚‰ã„ï¼šAtomic Design ã¨ã¯ï¼Ÿ
- Atomic Design ã®è£œåŠ©ã‚’ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
```

## ãŠã•ã‚‰ã„ï¼šAtomic Design ã¨ã¯ï¼Ÿ
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç´¹ä»‹ã«å…¥ã‚‹å‰ã«ã€Atomic Design ã®ç†å¿µã¨åŸºæœ¬æ€§è³ªã«ã¤ã„ã¦è»½ããŠã•ã‚‰ã„ã‚’ã—ã¾ã™ã€‚

Atomic Design ã¯ã€å°ã•ã„ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦ã‚ˆã‚Šå¤§ããªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ã¦ã„ããŸã‚ã®è¨­è¨ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŒ–å­¦è¦ç´ ï¼ˆåŸå­ã¨ç‰©ä½“ï¼‰ã«è¦‹ç«‹ã¦ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ç”»é¢ã‚’æ§‹æˆã—ã¾ã™ã€‚

å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç²’åº¦ã¨è²¬å‹™ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

- Atomsï¼ˆåŸå­ï¼‰
    - ã‚ã‚‰ã‚†ã‚‹ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æœ€å°å˜ä½
    - è²¬å‹™ï¼šãƒ‡ã‚¶ã‚¤ãƒ³ã®çµ±ä¸€æ€§
- Moleculesï¼ˆåˆ†å­ï¼‰
    - æ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ¦ãƒ¼ã‚¶ã®å…·ä½“çš„ãªå‹•æ©Ÿã«å¿œãˆã‚‹
    - è²¬å‹™ï¼šè¡Œå‹•ã‚’é˜»å®³ã—ãªã„æ“ä½œæ€§
- Organismsï¼ˆæœ‰æ©Ÿä½“ï¼‰
    - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Œçµã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æä¾›
    - è²¬å‹™ï¼šãƒ¦ãƒ¼ã‚¶ã®è¡Œå‹•ã‚’ä¿ƒã™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
- Templatesï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
    - ãƒšãƒ¼ã‚¸ã®é››å½¢
    - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒšãƒ¼ã‚¸ä¸Šã§æ­£ã—ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã•ã‚Œã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹
    - è²¬å‹™ï¼šç”»é¢å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- Pagesï¼ˆãƒšãƒ¼ã‚¸ï¼‰
    - Template å±¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æµã—è¾¼ã‚“ã ã‚‚ã®
    - è²¬å‹™ï¼šã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãã®ã‚‚ã®

ãã—ã¦ã€Atomic Design ã§ã¯å°ã•ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦å¤§ãã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ãŸã‚ã€ï¼ˆå®Ÿéš›ã®è‡ªç„¶ç•Œã¨åŒæ§˜ã«ï¼‰ **å°ã•ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¤§ããªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å«ã¾ãªã„** ã¨ã„ã†ä¾å­˜ã®æ–¹å‘æ€§ãŒå­˜åœ¨ã—ã¾ã™ã€‚

## Atomic Design ã®è£œåŠ©ã‚’ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
Atomic Design ã‚’è¸è¥²ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ã¯ã€ã€ŒAtomic Design ã®ç†å¿µã¨åŸºæœ¬æ€§è³ªã€ã¸ã®ç†è§£åº¦ã‚„ç¿’ç†Ÿåº¦ã«ã‚ˆã£ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç²’åº¦ã®ãƒãƒ©ã¤ããŒç™ºç”Ÿã—ã‚„ã™ãã€æ°—ã¥ã‘ã°ã‚«ã‚ªã‚¹ãªæ§‹æˆã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚‚ã—ã°ã—ã°ã‚ã‚Šã¾ã™ã€‚

ãã“ã§ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç²’åº¦ã«å¯¾ã™ã‚‹ç†è§£ã‚„è²¬å‹™ã®éµå®ˆã‚’ç›®çš„ã¨ã—ãŸã€å„ç²’åº¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ã‚’è£œåŠ©ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã—ãŸã€‚

### Atomsï¼ˆåŸå­ï¼‰
Atoms å±¤ã¯ **ã‚ã‚‰ã‚†ã‚‹ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æœ€å°å˜ä½** ã§ã‚ã‚Šã€å¯¾è±¡ã¨ã—ã¦ã¯ã€

- ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆUI
- ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆãƒ»ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªUI
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³
- ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãªï¼ˆæ„å‘³ã‚’ä»˜åŠ ã™ã‚‹ã‚ˆã†ãªï¼‰ãƒ‡ã‚¶ã‚¤ãƒ³è¦ç´ 

ã¨ãªã‚Šã¾ã™ã€‚

ã“ã‚Œã‚‰ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã¨ã€ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚

```dart
@internal
abstract class Wrapper extends StatelessWidget {
  const Wrapper({
    super.key,
    final EdgeInsetsGeometry padding = EdgeInsets.zero,
    final EdgeInsetsGeometry margin = EdgeInsets.zero,
  })  : _padding = padding,
        _margin = margin;

  final EdgeInsetsGeometry _padding;
  final EdgeInsetsGeometry _margin;

  Widget? buildWrapper(
    final BuildContext context,
    final Widget? child,
  ) =>
      // padding ã‚„ margin ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ Padding ã§å­è¦ç´ ã‚’åŒ…å«ã™ã‚‹
      _padding != EdgeInsets.zero || _margin != EdgeInsets.zero
          ? Padding(
              padding: _padding.add(_margin),
              child: child,
            )
          : null;
}
```

`Wrapper` ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® padding ã‚„ margin ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚
ä¸Šè¨˜ã¯ Stateless Widget ç”¨ã¨ãªã‚Šã€Stateful Widget ç”¨ã® wrapper ã‚‚åŒæ§˜ã«å®šç¾©ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚

```dart
abstract class AtomWidget extends Wrapper {
  const AtomWidget({
    super.key,
    super.padding,
    super.margin,
  });

  // Material Design ã«å‰‡ã£ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…
  Widget buildMaterial(final BuildContext context);

  // iOS ã‚¹ã‚¿ã‚¤ãƒ«ã«å‰‡ã£ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…
  Widget? buildCupertino(final BuildContext context) => null;

  @override
  Widget build(final BuildContext context) {
    final Widget? cupertinoWidget = buildCupertino(context);
    final Widget materialWidget = buildMaterial(context);

    // OS ã«å¿œã˜ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‡ºã—åˆ†ã‘
    final Widget child = CupertinoUserInterfaceLevel.maybeOf(context) != null
        ? cupertinoWidget ?? materialWidget
        : materialWidget;

    return buildWrapper(context, child) ?? child;
  }
}
```

Atoms å±¤ã¯ã‚ã‚‰ã‚†ã‚‹ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æœ€å°å˜ä½ã§ã‚ã‚‹ãŸã‚ã€çŠ¶æ…‹ï¼ˆStateï¼‰ã«é–¢å¿ƒã‚’æŒã¡ã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€Stateless Widget ã‚’æ‹¡å¼µã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®åˆ©ç”¨ä¾‹ã‚’å‚è€ƒã«ã€å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è†¨ã‚‰ã¾ã›ã¦ã¿ã¦ãã ã•ã„ã€‚

:::details ä¾‹ï¼‰è§’ä¸¸ãª ElevatedButton
```dart
class StadiumElevatedButton extends AtomWidget {
  const StadiumElevatedButton({
    super.key,
    super.padding,
    super.margin,
    required VoidCallback onPressed,
    required Widget child,
  }): _onPressed = onPressed,
      _child = child;

  final VoidCallback _onPressed;
  final Widget _child;

  @override
  Widget buildMaterial(final BuildContext context) {
    return ElevatedButton(
      style: ElevatedButton.styleFrom(), // ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«
      onPressed: _onPressed,
      child: _child,
    );
  }
}
```
:::

:::details ä¾‹ï¼‰OS ã”ã¨ã«ã‚¹ã‚¿ã‚¤ãƒ«ã®ç•°ãªã‚‹ TextField
```dart
class ProperlyTextField extends AtomWidget {
  const StadiumElevatedButton({
    super.key,
    super.padding,
    super.margin,
    required ValueChanged<String> onChanged,
  }): _onPressed = onPressed;

  final ValueChanged<String> _onChanged;
  final Widget _child;

  @override
  Widget buildMaterial(final BuildContext context) {
    return TextField(
      decoration: InputDecoration(), // ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«
      onChanged: _onChanged,
    );
  }

  @override
  Widget buildCupertino(final BuildContext context) {
    return CupertinoTextField(
      decoration: BoxDecoration(),  // ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ã§æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«
      onChanged: _onChanged,
    );
  }
}
```
:::

### Moleculesï¼ˆåˆ†å­ï¼‰
Molecules å±¤ãŒæ‹…ã£ã¦ã„ã‚‹ã®ã¯ã€**ãƒ¦ãƒ¼ã‚¶ãŒæ„è­˜ã—ã¦ã‚„ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã‚‹ã“ã¨ã«å¯¾ã—ã¦æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹** ã“ã¨ã§ã™ã€‚

ã€Œãƒ¦ãƒ¼ã‚¶ãŒæ„è­˜ã—ã¦ã‚„ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã‚‹ã“ã¨ã«å¯¾ã™ã‚‹æ©Ÿèƒ½ã®æä¾›ã€ã¯ã€Œ **å…·ä½“çš„ãªæ“ä½œã«å¿œãˆã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æä¾›** ã€ã¨è¨€ã„æ›ãˆã‚‰ã‚Œã€Molecules å±¤ã§å®Ÿè£…ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é€šã˜ã¦ã€ãƒ¦ãƒ¼ã‚¶ã¯ **æä¾›ã•ã‚ŒãŸæ©Ÿèƒ½ã«å¯¾ã™ã‚‹æ“ä½œ** ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

ã“ã®å½¹å‰²ã‚’æ„è­˜ã—ã¤ã¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã¨ã€ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚

```dart
abstract class MoleculeWidget extends Wrapper {
  const MoleculeWidget({
    super.key,
    super.padding,
    super.margin,
  });

  Widget buildMolecule(final BuildContext context);

  @override
  Widget build(final BuildContext context) {
    final Widget child = buildMolecule(context);
    return buildWrapper(context, child) ?? child;
  }
}
```

Molecules å±¤ã¯ **å…·ä½“çš„ãªæ“ä½œã«å¿œãˆã‚‹** ã“ã¨ã‚’è²¬å‹™ã¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ“ä½œã®å†…å®¹ã¯æ‰±ã„ã¾ã™ãŒã€æ“ä½œã®çµæœã‚’ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«ä¼ãˆã‚‹ã“ã¨ã¯æ„è­˜ã—ã¾ã›ã‚“ã€‚
ã¾ãŸã€Molecules å±¤ã‚‚ Atoms å±¤ã¨åŒæ§˜ã«ã€æ±ç”¨çš„ã«åˆ©ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’æ„è­˜ã™ã‚‹ç²’åº¦ã§ã™ã€‚

ã“ã‚Œã‚‰ã®ç‰¹å¾´ã‹ã‚‰ã€Molecules å±¤ã‚‚çŠ¶æ…‹ï¼ˆStateï¼‰ã«é–¢å¿ƒã‚’æŒãŸãªã„ãŸã‚ã€Stateless Widget ã‚’æ‹¡å¼µã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®åˆ©ç”¨ä¾‹ã‚’å‚è€ƒã«ã€å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è†¨ã‚‰ã¾ã›ã¦ã¿ã¦ãã ã•ã„ã€‚

:::details ä¾‹ï¼‰ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šãƒ•ã‚©ãƒ¼ãƒ 
```dart
class ConfirmPasswordForm extends MoleculeWidget {
  const ConfirmPasswordForm({
    super.key,
    super.padding,
    super.margin,
    required ValueChanged<String> onChangedPassword,
    required ValueChanged<String> onChangedConfirmString,
  }): _onChangedPassword = onChangedPassword,
      _onChangedConfirmString = onChangedConfirmString;

  final ValueChanged<String> _onChangedPassword;
  final ValueChanged<String> _onChangedConfirmString;

  @override
  Widget buildMolecule(final BuildContext context) {
    return Column(
      children: <Widget>[
        TextFormField(
          key: const Key("PasswordForm"),
          decoration: InputDecoration(
            labelText: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ *",
          ),
          keyboardType: TextInputType.visiblePassword,
          textInputAction: TextInputAction.next,
          obscureText: true,
          enableSuggestions: false,
          onChanged: _onChangedPassword,
          validator: (final String? value) {
            // TODO: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æœ‰åŠ¹æ€§ã‚’ç¢ºèªã™ã‚‹
          },
          inputFormatters: <TextInputFormatter>[
            FilteringTextInputFormatter.deny(
              RegExp(r"\s"),
            ),
          ],
          autovalidateMode: AutovalidateMode.onUserInteraction,
        ),
        SizedBox(height: 8),
        TextFormField(
          key: const Key("ConfirmPasswordForm"),
          decoration: InputDecoration(
            labelText: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ç¢ºèª *",
          ),
          keyboardType: TextInputType.visiblePassword,
          textInputAction: TextInputAction.done,
          obscureText: true,
          onChanged: _onChangedConfirmString,
          validator: (final String? value) {
            // TODO: è¨­å®šã™ã‚‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç¢ºèªã™ã‚‹
          },
          autovalidateMode: AutovalidateMode.onUserInteraction,
        ),
      ],
    );
  }
}
```
:::

### Organismsï¼ˆæœ‰æ©Ÿä½“ï¼‰
Orgamism å±¤ãŒæ‹…ã£ã¦ã„ã‚‹ã®ã¯ã€**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Œçµã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æä¾›** ã§ã™ã€‚

ã€Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Œçµã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æä¾›ã€ã¯ã€Œ **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«è§¦ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®æä¾›** ã€ã¨è¨€ã„æ›ãˆã‚‰ã‚Œã€Organisms å±¤ã§å®Ÿè£…ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é€šã˜ã¦ã€ãƒ¦ãƒ¼ã‚¶ã¯ **æ©Ÿèƒ½ãã®ã‚‚ã®** ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

ã“ã®å½¹å‰²ã‚’æ„è­˜ã—ã¤ã¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã¨ã€ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚

```dart
abstract class StatefulOrganismWidget extends StatefulWrapper {
  // ignore: public_member_api_docs
  const StatefulOrganismWidget({
    super.key,
    super.padding,
    super.margin,
  });

  @override
  OrganismState<StatefulOrganismWidget> createState();
}

abstract class OrganismState<T extends StatefulOrganismWidget> extends WrapperState<T> {
  /// Build a organism widget.
  Widget buildOrganism(final BuildContext context);

  @override
  Widget build(final BuildContext context) {
    final Widget child = buildOrganism(context);
    return buildWrapper(context, child) ?? child;
  }
}
```

Organisms å±¤ã®è²¬å‹™ã¯ **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«è§¦ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®æä¾›** ã§ã‚ã‚Šã€çŠ¶æ…‹ï¼ˆStateï¼‰ã®æ›´æ–°ã‚„ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®ç™ºç«ãªã©ã‚’æ‹…å½“ã—ã¾ã™ã€‚ãã®ãŸã‚ã€Stateful Widget ã‚’æ‹¡å¼µã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
ã‚‚ã¡ã‚ã‚“ã€çŠ¶æ…‹ã®æ›´æ–°ã‚’è¡Œã†å¿…è¦ãŒãªã„å ´åˆã¯ã€Stateless Widget ã‚’å…ƒã«å®šç¾©ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

ä»¥ä¸‹ã®åˆ©ç”¨ä¾‹ã‚’å‚è€ƒã«ã€å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è†¨ã‚‰ã¾ã›ã¦ã¿ã¦ãã ã•ã„ã€‚

:::details ä¾‹ï¼‰ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ•ã‚©ãƒ¼ãƒ 
```dart
class SignUpForm extends OrganismWidget {
  const SignUpForm({
    super.key,
    super.padding,
    super.margin,
  });

  @override
  Widget buildOrganims(final BuildContext context) {
    return LayoutBuilder(
      builder: (BuildContext context, BoxConstraints viewportConstrains) => Stack(
        children: <Widget>[
          SingleChildScrollView(
            child: ConstrainedBox(
              constraints: BoxConstraints(
                minHeight: viewportConstrains.maxHeight,
              ),
              child: Column(
                children: const <Widget>[
                  EmailAddressForm(
                    key: Key("SignUpForm_EmailAddress"),
                    margin: EdgeInsets.only(bottom: 4),
                    onChanged: (String email) {
                      // TODO: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ‰±ã†çŠ¶æ…‹ï¼ˆStateï¼‰ã®æ›´æ–°
                    },
                  ),
                  ConfirmPasswordForm(
                    key: Key("SignUpForm_ConfirmPassword"),
                    onChangedPassword: (String password) {
                      // TODO: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ‰±ã†çŠ¶æ…‹ï¼ˆStateï¼‰ã®æ›´æ–°
                    },
                    onChangedConfirmString: (String confirmedString) {
                      // TODO: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèªç”¨ã®æ–‡å­—åˆ—ã‚’æ‰±ã†çŠ¶æ…‹ï¼ˆStateï¼‰ã®æ›´æ–°
                    }
                  ),
                ],
              ),
            ),
          ),
          Align(
            alignment: Alignment.bottomCenter,
            child: SizedBox(
              width: double.infinity,
              child: ElevatedButton(
                key: const Key("SignUpForm_ConfirmButton"),
                onPressed: () {
                  // TODO: ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹
                },
                child: const Text("SIGN UP"),
              ),
            ),
          ),
        ],
      ),
    );
  }
}
```
:::

### Templatesï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
Templates å±¤ãŒæ‹…ã£ã¦ã„ã‚‹ã®ã¯ã€Organisms å±¤ã‚„ Molecules å±¤ã€Atoms å±¤ãªã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ **å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒšãƒ¼ã‚¸ã¨åŒæ§˜ã«é…ç½®ã™ã‚‹** ã“ã¨ã§ã™ã€‚

ã“ã®å½¹å‰²ã‚’æ„è­˜ã—ã¤ã¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã¨ã€ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚

```dart
abstract class AdaptiveWidget extends StatelessWidget {
  const AdaptiveWidget({
    super.key,
  });

  /// Build a widget for small handset.
  Widget? buildSmallHandset(final BuildContext context) => null;

  /// Build a widget for medium handset.
  Widget? buildMediumHandset(final BuildContext context) => null;

  /// Build a widget for large handset.
  Widget? buildLargeHandset(final BuildContext context) => null;

  /// Build a widget for small tablet.
  Widget? buildSmallTablet(final BuildContext context) => null;

  /// Build a widget for large tablet.
  Widget? buildLargeTablet(final BuildContext context) => null;

  /// Build a widget for destop.
  Widget? buildDesktop(final BuildContext context) => null;
}
```

`AdaptiveWidget` ã¯ã€ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’çµ„ã¿ç«‹ã¦ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãªã©ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

```dart
abstract class TemplateWidget extends AdaptiveWidget {
  const TemplateWidget({
    super.key,
  });

  /// Build a template widget.
  Widget buildTemplate(final BuildContext context);

  /// Build a safe area.
  SafeArea buildSafeArea(
    final BuildContext context,
    final Widget child,
  ) =>
      SafeArea(child: child);

  @override
  Widget build(final BuildContext context) => buildSafeArea(
        context,
        LayoutBuilder(
          builder: (
            final BuildContext context,
            final BoxConstraints constraints,
          ) =>
              // è¡¨ç¤ºé ˜åŸŸã‹ã‚‰æœ€é©ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’é¸æŠ
              // AdaptiveWidget ã§æä¾›ã•ã‚Œã¦ã„ã‚‹å„ç¨® build ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ©ç”¨ã—ã¦ã„ãªã„å ´åˆã¯
              // buildTemplate ã§çµ„ã¿ç«‹ã¦ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½¿ç”¨
              LayoutType.fromConstraints(constraints).when(
            smallHandset: () =>
                buildSmallHandset(context) ?? buildTemplate(context),
            mediumHandset: () =>
                buildMediumHandset(context) ??
                buildSmallHandset(context) ??
                buildTemplate(context),
            largeHandset: () =>
                buildLargeHandset(context) ??
                buildMediumHandset(context) ??
                buildSmallHandset(context) ??
                buildTemplate(context),
            smallTablet: () =>
                buildSmallTablet(context) ??
                buildLargeHandset(context) ??
                buildMediumHandset(context) ??
                buildSmallHandset(context) ??
                buildTemplate(context),
            largeTablet: () =>
                buildLargeTablet(context) ??
                buildSmallTablet(context) ??
                buildLargeHandset(context) ??
                buildMediumHandset(context) ??
                buildSmallHandset(context) ??
                buildTemplate(context),
            desktop: () =>
                buildDesktop(context) ??
                buildLargeTablet(context) ??
                buildSmallTablet(context) ??
                buildLargeHandset(context) ??
                buildMediumHandset(context) ??
                buildSmallHandset(context) ??
                buildTemplate(context),
          ),
        ),
      );
}
```

Templates å±¤ã®è²¬å‹™ã¯ **ç”»é¢ã‚’çµ„ã¿ç«‹ã¦ã‚‹ãƒ¯ã‚¤ãƒ¤ãƒ•ãƒ¬ãƒ¼ãƒ ** ã§ã‚ã‚‹ãŸã‚ã€çŠ¶æ…‹ï¼ˆStateï¼‰ã«é–¢å¿ƒã‚’æŒã¡ã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€Stateless Widget ã‚’æ‹¡å¼µã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®åˆ©ç”¨ä¾‹ã‚’å‚è€ƒã«ã€å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è†¨ã‚‰ã¾ã›ã¦ã¿ã¦ãã ã•ã„ã€‚

:::details ä¾‹ï¼‰ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ç”»é¢
```dart
class SignUpTemplate extends TemplateWidget {
  const SignUpTemplate({
    super.key,
  });

  @override
  Widget buildLargeHandset(final BuildContext context) {
    return Center(
      child: SizedBox(
        height: 300,  // ã‚¹ãƒãƒ›ã§ã¯é«˜ã•ã‚’ 300dp ã«
        child: SignUpForm(),
      )
    );
  }

  @override
  Widget buildTemplate(final BuildContext context) {
    return Center(
      child: SizedBox(
        height: 400,  // ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã‚„ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã¯é«˜ã•ã‚’ 400dp ã«
        child: SignUpForm(),
      )
    );
  }
}
```
:::

### Pageï¼ˆãƒšãƒ¼ã‚¸ï¼‰
Pages å±¤ãŒæ‹…ã£ã¦ã„ã‚‹ã®ã¯ã€**Template å±¤ã‚’ä»‹ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¥ç¶šã™ã‚‹** ã“ã¨ã§ã™ã€‚ç”»é¢é·ç§»ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„ã€ç”»é¢é·ç§»å…ƒã‚„ DataSource ã‹ã‚‰å—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã‚’ Template ã«æµã—è¾¼ã¿ã€ãƒ¦ãƒ¼ã‚¶ãŒå®Ÿéš›ã«è§¦ã‚Œã‚‹ç”»é¢ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```dart
abstract class StatefulPageWidget extends StatefulWidget {
  const StatefulPageWidget({
    super.key,
  });

  @override
  PageState<StatefulPageWidget> createState();
}

abstract class PageState<T extends StatefulPageWidget> extends State<T> {
  /// Build a scaffold body.
  Widget buildBody(final BuildContext context);

  // Material Design ã«å‰‡ã£ã¦ã„ã‚‹ Scaffold ã‚’å®Ÿè£…
  Scaffold buildMaterialScaffold(
    final BuildContext context, {
    required final Widget body,
    final PreferredSizeWidget? appBar,
    final Widget? floatingActionButton,
  }) {
    // å­è¦ç´ ã‚’ Template ã«åˆ¶é™ã™ã‚‹ã“ã¨ã§ã€å®Ÿè£…ã®ãƒãƒ©ã¤ããŒç™ºç”Ÿã—ãªã„
    if (body is! TemplateWidget) {
      throw const AtomicWidgetException.shouldUseTemplateWidget();
    }

    return Scaffold(
      appBar: appBar,
      body: body,
      floatingActionButton: floatingActionButton,
    );
  }

  // iOS ã‚¹ã‚¿ã‚¤ãƒ«ã«å‰‡ã£ã¦ã„ã‚‹ Scaffold ã‚’å®Ÿè£…
  CupertinoPageScaffold? buildCupertinoScaffold(
    final BuildContext context, {
    required final Widget child,
    final ObstructingPreferredSizeWidget? navigationBar,
  }) {
    // å­è¦ç´ ã‚’ Template ã«åˆ¶é™ã™ã‚‹ã“ã¨ã§ã€å®Ÿè£…ã®ãƒãƒ©ã¤ããŒç™ºç”Ÿã—ãªã„
    if (child is! TemplateWidget) {
      throw const AtomicWidgetException.shouldUseTemplateWidget();
    }

    return CupertinoPageScaffold(
      navigationBar: navigationBar,
      child: child,
    );
  }

  /// Build a app bar.
  PreferredSizeWidget? buildMaterialAppBar(final BuildContext context) =>
      AppBar();

  /// Build a cupertino navigation bar.
  ObstructingPreferredSizeWidget? buildCupertinoNavigationBar(
    final BuildContext context,
  ) =>
      const CupertinoNavigationBar();

  /// Build a floating action button.
  Widget? buildMaterialFloatingActionButton(final BuildContext context) => null;

  @override
  Widget build(final BuildContext context) {
    final CupertinoPageScaffold? cupertinoPageScaffold = buildCupertinoScaffold(
      context,
      navigationBar: buildCupertinoNavigationBar(context),
      child: buildBody(context),
    );

    final Scaffold materialScaffold = buildMaterialScaffold(
      context,
      appBar: buildMaterialAppBar(context),
      body: buildBody(context),
      floatingActionButton: buildMaterialFloatingActionButton(context),
    );

    // OS ã«å¿œã˜ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‡ºã—åˆ†ã‘
    return CupertinoUserInterfaceLevel.maybeOf(context) != null
        ? cupertinoPageScaffold ?? materialScaffold
        : materialScaffold;
  }
}
```

Pages å±¤ã®è²¬å‹™ã¯ **Template å±¤ã¸ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æ¥ç¶š** ã§ã‚ã‚Šã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®çŠ¶æ…‹ï¼ˆStateï¼‰ã«é–¢å¿ƒã‚’æŒã¡ã¾ã™ã€‚ãã®ãŸã‚ã€Stateful Widget ã‚’æ‹¡å¼µã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
ã‚‚ã¡ã‚ã‚“ã€Template ã¸æµã—è¾¼ã‚€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒ immutable ã§ã‚ã‚‹å ´åˆã¯ã€Stateless Widget ã‚’å…ƒã«å®šç¾©ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

ä»¥ä¸‹ã®åˆ©ç”¨ä¾‹ã‚’å‚è€ƒã«ã€å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è†¨ã‚‰ã¾ã›ã¦ã¿ã¦ãã ã•ã„ã€‚

:::details ä¾‹ï¼‰ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒšãƒ¼ã‚¸
```dart
class SignUpPage extends PageWidget {
  const SignUpPage({
    super.key,
    super.padding,
    super.margin,
  });

  @override
  Widget buildBody(final BuildContext context) {
    return SignUpTemplate();
  }

  @override
  CupertinoPageScaffold? buildCupertinoScaffold(
    final BuildContext context, {
    required final Widget child,
    final ObstructingPreferredSizeWidget? navigationBar,
  }) => 
      null; // iOS ã‚¹ã‚¿ã‚¤ãƒ«ã‚’åˆ©ç”¨ã—ãªã„
}
```
:::

## ã¾ã¨ã‚
ã“ã®è¨˜äº‹ã§ã¯ Atomic Design ã‚’å°å…¥ã™ã‚‹éš›ã®æ‚©ã¿ã§ã‚ã‚‹ã€Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç²’åº¦ã«ãƒãƒ©ã¤ããŒç™ºç”Ÿã—ã¦ã—ã¾ã†ã€ã“ã¨ã‚„ã€Œå„ç²’åº¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè²¬å‹™ã‚’å¿ å®Ÿã«æœãŸã›ãªã„ã€ã“ã¨ã«å¯¾ã™ã‚‹è§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ã€å„ç²’åº¦ã«å¯¾å¿œã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã€ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç²’åº¦ã®çµ±ä¸€ã€ã¨ã€Œå„ç²’åº¦ãŒæœãŸã™è²¬å‹™ã®æ„è­˜ã€ãŒè¡Œã„ã‚„ã™ããªã‚Šã¾ã—ãŸã€‚

ã¿ãªã•ã‚“ã‚‚ä¸Šè¨˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ´»ç”¨ã—ã€Atomic Design ã«ã‚ˆã‚‹æ±ç”¨æ€§ã®é«˜ã„å …ç‰¢ãª View è¨­è¨ˆã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼

çš†ã•ã‚“ã®ç–‘å•ç‚¹ã‚„æ„Ÿæƒ³ã‚’ãœã²ã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦æ®‹ã—ã¦ã„ã£ã¦ãã ã•ã„ï¼
